<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boda Carmen & Ra√∫l</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Big+Shoulders:opsz,wght@10..72,100..900&display=swap"
        rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="style/style.css">
</head>

<body>

    <!-- LOADING PAGE -->
    <div id="loading-screen" class="loading-screen">
        <!-- Lazo superior -->
        <div class="ribbon ribbon-top"></div>
        <!-- Lazo derecho -->
        <div class="ribbon ribbon-right"></div>
        <!-- Lazo inferior -->
        <div class="ribbon ribbon-bottom"></div>
        <!-- Lazo izquierdo -->
        <div class="ribbon ribbon-left"></div>

        <!-- Sello de lacre en el centro -->
        <div class="wax-seal" id="wax-seal">
            <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                <!-- C√≠rculo exterior del sello -->
                <circle cx="100" cy="100" r="90" fill="#8B4513" stroke="#6B3410" stroke-width="3" />
                <!-- C√≠rculo interior -->
                <circle cx="100" cy="100" r="75" fill="#A0522D" opacity="0.8" />
                <!-- Textura del sello -->
                <circle cx="100" cy="100" r="60" fill="none" stroke="#6B3410" stroke-width="2" />
                <!-- Iniciales C&R -->
                <text x="100" y="110" font-family="var(--font-serif)" font-size="48" font-weight="bold" fill="#F7F1E1"
                    text-anchor="middle">C&R</text>
            </svg>
            <p class="seal-text">Haz click para abrir</p>
        </div>
    </div>


    <!-- HERO SECTION -->
    <header class="hero">
        <div class="hero-content">
            <!-- Imagen para Mobile -->
            <img src="src/nombres-novios-vertical.svg" alt="Nombres Carmen y Ra√∫l Movil" class="couple-names-mobile">

            <!-- Imagen para Desktop/Tablet -->
            <img src="src/nombres-novios-horizontal.svg" alt="Nombres Carmen y Ra√∫l Desktop"
                class="couple-names-desktop">
        </div>
    </header>

    <!-- INTRO / NOS CASAMOS -->
    <section class="section-container intro">
        <img src="src/corazon.svg" alt="icono coraz√≥n" class="heart-icon">
        <p>¬°Nos casamos!</p>
        <p>Y estamos muy emocionados de celebrar nuestro d√≠a contigo. Aqu√≠ encontrar√°s todo lo que necesitas: desde
            d√≥nde ser√° la ceremonia y c√≥mo llegar, hasta el horario de los eventos y c√≥mo confirmar tu asistencia.
            Tambi√©n podr√°s contarnos tus preferencias especiales para que todo est√© perfecto. ¬°Te esperamos en mayo!</p>
    </section>

    <!-- COUNTDOWN -->
    <section class="countdown-section"> <!-- Quitamos la clase 'section-container' aqu√≠ -->
        <div class="section-container"> <!-- O un div nuevo wrapper -->
            <h2 class="section-subtitle">CUENTA ATR√ÅS</h2>
            <p class="section-title">D√≠as que nos separan</p>

            <div class="countdown-timer" id="countdown">
                <div>
                    <div class="time-box">
                        <span id="days">00</span>
                    </div>
                    <span class="label">D√çAS</span>
                </div>

                <div>
                    <div class="time-box">
                        <span id="hours">00</span>
                    </div>
                    <span class="label">HORAS</span>
                </div>

                <div>
                    <div class="time-box">
                        <span id="minutes">00</span>
                    </div>
                    <span class="label">MINUTOS</span>
                </div>

                <div>
                    <div class="time-box">
                        <span id="seconds">00</span>
                    </div>
                    <span class="label">SEGUNDOS</span>
                </div>
            </div>

            <p class="date-text">S√°bado, 16 de mayo de 2026 - 12:30h</p>
        </div>
    </section>

    <!-- CEREMONIA -->
    <section class="section-container ceremony">
        <h2 class="section-subtitle">CEREMONIA</h2>
        <p class="section-title">Nos vemos en la Colegiata<br>de Santa Mar√≠a la Mayor.</p>
        <div class="ceremony-image">
            <img src="src/colegiata-santa-maria.webp" alt="Fachada Colegiata Santa Mar√≠a">
        </div>

        <a href="https://maps.app.goo.gl/Lw3j5jGocQPUiJJq7" class="btn-outline" target="_blank">C√≥mo llegar!</a>
    </section>

    <!-- SEPARADOR -->
    <img src="src/separador.svg" alt="elemento decorativo para separar secciones" class="section-separator"
        aria-hidden="true">

    <!-- TIMELINE -->
    <section class="section-container timeline-section">
        <h2 class="section-subtitle">PROGRAMA DEL D√çA</h2>
        <p class="section-title">Lo tenemos todo<br>preparado para vosotros.</p>

        <div class="timeline">
            <!-- Evento 1 -->
            <div class="timeline-item">
                <div class="icon-circle">‚õ™</div> <!-- ¬°Aqu√≠ est√° el c√≠rculo! -->
                <div class="content">
                    <div class="timeline-header">
                        <span class="time">12.30h</span>
                        <span class="event-name">Ceremonia</span>
                    </div>
                    <p>Colegiata Santa Mar√≠a La Mayor.</p>
                </div>
            </div>

            <!-- Evento 2 -->
            <div class="timeline-item">
                <div class="icon-circle">üöå</div>
                <div class="content">
                    <div class="timeline-header">
                        <span class="time">13.45h</span>
                        <span class="event-name">Autob√∫s</span>
                    </div>
                    <p>Salida del primer autob√∫s de las Islas Canarias.</p>
                </div>
            </div>

            <!-- Evento 3 -->
            <div class="timeline-item">
                <div class="icon-circle">üç∏</div>
                <div class="content">
                    <div class="timeline-header">
                        <span class="time">14.00h</span>
                        <span class="event-name">Lunch</span>
                    </div>
                    <p>Empezamos picando algo: Factor√≠a Resort.</p>
                </div>
            </div>

            <!-- Evento 4 -->
            <div class="timeline-item">
                <div class="icon-circle">üçΩÔ∏è</div>
                <div class="content">
                    <div class="timeline-header">
                        <span class="time">15.30h</span>
                        <span class="event-name">Banquete</span>
                    </div>
                    <p>La cosa se pone seria.</p>
                </div>
            </div>

            <!-- Evento 5 -->
            <div class="timeline-item">
                <div class="icon-circle">üéâ</div>
                <div class="content">
                    <div class="timeline-header">
                        <span class="time">19.00h</span>
                        <span class="event-name">Fiesta</span>
                    </div>
                    <p>Damos comienzo a la barra libre.</p>
                </div>
            </div>

            <!-- Evento 6 -->
            <div class="timeline-item">
                <div class="icon-circle">üöå</div>
                <div class="content">
                    <div class="timeline-header">
                        <span class="time">22.00h</span>
                        <span class="event-name">Autob√∫s</span>
                    </div>
                    <p>Primer autob√∫s para volver a descansar.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- SEPARADOR -->
    <img src="src/separador.svg" alt="elemento decorativo para separar secciones" class="section-separator"
        aria-hidden="true">

    <!-- FAQ (ACORDE√ìN) -->
    <section class="section-container faq">
        <h2 class="section-subtitle">PREGUNTAS FRECUENTES</h2>

        <details class="faq-item">
            <summary>¬øPuedo llevar acompa√±ante?</summary>
            <div class="faq-content"> <!-- Nuevo envoltorio -->
                <p>Cada invitaci√≥n incluye un +1. Por favor, ind√≠calo en el formulario con su nombre y apellido. Si sois
                    m√°s de 1 o una familia, no hay problema, a√±adidlo en el formulario.</p>
            </div>
        </details>

        <details class="faq-item">
            <summary>¬øCu√°l es el c√≥digo de vestimenta?</summary>
            <div class="faq-content"> <!-- Nuevo envoltorio -->
                <p>El dress code es de ceremonia. √önicamente pedimos que nadie vaya vestido de blanco.</p>
            </div>
        </details>

        <details class="faq-item">
            <summary>¬øHay aparcamiento disponible en el lugar de la ceremonia?</summary>
            <div class="faq-content">
                <p>Hay algunas zonas de aparcamiento en las inmediaciones, aunque son escasas y pueden estar ocupadas.
                    Como alternativa, se puede aparcar en la Plaza del Mercado, situada a unos 60 metros de la
                    Colegiata.Aun as√≠, recomendamos llegar con tiempo para evitar prisas.</p>
            </div>
        </details>

        <details class="faq-item">
            <summary>¬øHabr√° servicio de autobuses?</summary>
            <div class="faq-content">
                <p>S√≠. A partir de las 13:45 h habr√° autobuses disponibles para los invitados desde la Fuente de las
                    Islas Canarias (calle G√°ldar) hasta el Resort La Factor√≠a, donde continuar√° la celebraci√≥n. Y a las
                    00:00 h habr√° autobuses de regreso desde el Resort La Factor√≠a al centro de Calatayud.</p>
            </div>
        </details>

        <details class="faq-item">
            <summary>¬øLa boda se celebra en interior o exterior?</summary>
            <div class="faq-content">
                <p>El lunch y el banquete se celebrar√°n en el Resort La Factor√≠a, combinando espacios interiores y
                    exteriores seg√∫n el momento del d√≠a y el clima. La ceremonia es en la Colegiata Mayor de Santa
                    Mar√≠a, que es interior, y no depende del clima.</p>
            </div>
        </details>

        <details class="faq-item">
            <summary>¬øCu√°ndo y c√≥mo debo confirmar mi asistencia?</summary>
            <div class="faq-content">
                <p>Para confirmar tu asistencia, es obligatorio rellenar y enviar el formulario que encontrar√°s al final
                    de esta p√°gina. Por favor, hazlo antes del 15 de abril para que podamos organizar todo
                    correctamente.</p>
            </div>
        </details>
    </section>

    <!-- SEPARADOR -->
    <img src="src/separador.svg" alt="elemento decorativo para separar secciones" class="section-separator"
        aria-hidden="true">

    <!-- FORMULARIO RSVP -->
    <section class="section-container rsvp">
        <h2 class="section-subtitle">CONFIRMA TU ASISTENCIA</h2>
        <p class="section-title">Esperamos contar contigo</p>

        <!-- Aggiungiamo 'name' al form per trovarlo con Javascript -->
        <form name="submit-to-google-sheet" class="rsvp-form">

            <div class="form-group">
                <label for="name">Nombre completo*</label>
                <!-- Aggiunto name="nombre" -->
                <input type="text" id="name" name="nombre" placeholder="Tu nombre" required>
            </div>

            <div class="form-group">
                <label for="email">Email (opcional)</label>
                <!-- Aggiunto name="email" -->
                <input type="email" id="email" name="email" placeholder="Email">
            </div>

            <div class="form-group full-width">
                <label>¬øAsistir√°s?*</label>
                <div class="radio-group">
                    <!-- Aggiunto name="asistencia" -->
                    <label><input type="radio" name="asistencia" value="S√≠" checked> S√≠, asistir√©</label>
                    <label><input type="radio" name="asistencia" value="No"> No podr√© asistir</label>
                </div>
            </div>

            <div class="allergies-section">
                <p>‚ö†Ô∏è Alergias e intolerancias alimentarias</p>
                <div class="checkbox-grid">
                    <!-- IMPORTANTE: Tutti devono avere name="alergias" e un value diverso -->
                    <label><input type="checkbox" name="alergias" value="Gluten"> Gluten/celiaco</label>
                    <label><input type="checkbox" name="alergias" value="Lactosa"> Lactosa</label>
                    <label><input type="checkbox" name="alergias" value="Vegetariano"> Vegetariano</label>
                    <label><input type="checkbox" name="alergias" value="Vegano"> Vegano</label>
                    <label><input type="checkbox" name="alergias" value="Frutos secos"> Frutos secos</label>
                    <label><input type="checkbox" name="alergias" value="Marisco"> Marisco</label>
                </div>

                <label for="other-allergies">Otras alergias o restricciones:</label>
                <!-- Aggiunto name="otras_alergias" -->
                <input type="text" id="other-allergies" name="otras_alergias" placeholder="Ej: alergia al huevo...">
            </div>

            <div class="form-group full-width">
                <label for="message">Mensaje para los novios (opcional)</label>
                <!-- Aggiunto name="mensaje" -->
                <textarea id="message" name="mensaje" rows="4" placeholder="Escr√≠benos unas palabras..."></textarea>
            </div>

            <button type="submit" class="btn-submit">
                <!-- Aggiunto un ID allo span per cambiare il testo mentre invia -->
                <img src="src/avion.svg" alt="icono avion"> <span id="btn-text">ENVIAR CONFIRMACI√ìN</span>
            </button>

            <!-- Messaggio di successo nascosto -->
            <p id="success-message"
                style="display:none; color:green; grid-column: 1/-1; margin-top:10px; font-weight:bold;">
                ¬°Gracias! Hemos recibido tu confirmaci√≥n.
            </p>
        </form>


    </section>

    <!-- FOOTER -->
    <footer>
        <div class="footer-content">
            <!-- Parte superior: Fecha en romano y Nombres -->
            <div class="footer-main">
                <!-- Imagen Footer M√≥vil -->
                <img src="src/nombres-novios-vertical.svg" alt="Carmen y Ra√∫l" class="footer-names-mobile">

                <!-- Imagen Footer Desktop/Tablet -->
                <img src="src/nombres-novios-horizontal.svg" alt="Carmen y Ra√∫l" class="footer-names-desktop">
            </div>

            <!-- Fecha legible -->
            <p class="date-text-footer">16 de mayo de 2026</p>

            <!-- Firma (Recuperada) -->
            <div class="firma">
                <p>Dise√±ado con ‚ô• por Leandro Mar√≠n</p> <!-- O el texto que ten√≠as -->
            </div>
        </div>
    </footer>

    <!-- SCRIPT ANIMACI√ìN LOAGIND PAGE -->
    <script>
        // Funcionalidad de la loading page
        document.addEventListener('DOMContentLoaded', function () {
            const loadingScreen = document.getElementById('loading-screen');
            const waxSeal = document.getElementById('wax-seal');

            // Prevenir scroll mientras est√° la loading screen
            document.body.style.overflow = 'hidden';

            // Evento de click en el sello
            waxSeal.addEventListener('click', function () {
                // A√±adir clase para iniciar animaci√≥n
                loadingScreen.classList.add('clicked');

                // Despu√©s de la animaci√≥n, ocultar completamente
                setTimeout(function () {
                    loadingScreen.classList.add('hidden');
                    document.body.style.overflow = 'auto';
                }, 1200);
            });
        });
    </script>


    <!-- SCRIPT SIMPLE CUENTA ATR√ÅS -->
    <script>
        // Fecha objetivo: 16 Mayo 2026
        const targetDate = new Date("May 16, 2026 12:30:00").getTime();

        const timer = setInterval(function () {
            const now = new Date().getTime();
            const distance = targetDate - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById("days").innerText = days;
            document.getElementById("hours").innerText = hours;
            document.getElementById("minutes").innerText = minutes;
            document.getElementById("seconds").innerText = seconds;

            if (distance < 0) {
                clearInterval(timer);
                document.getElementById("countdown").innerHTML = "¬°Lleg√≥ el d√≠a!";
            }
        }, 1000);
    </script>

    <!-- SCRIPT FORMULARIO GOOGLE SHEETS -->
    <script>
        console.log("1. El script ha cargado correctamente");

        const scriptURL = 'https://script.google.com/macros/s/AKfycbxBYXqaf5I6n36XAcf7DbUgInGWcx17xUVPzPdWbg-jLhZjGDHHANwxaTJV3yGtO_yC1Q/exec';
        const form = document.forms['submit-to-google-sheet'];

        if (form) {
            console.log("2. Formulario encontrado:", form);

            form.addEventListener('submit', e => {
                e.preventDefault();
                console.log("3. ¬°Bot√≥n pulsado! Intentando enviar...");

                const btnText = document.getElementById('btn-text');
                const successMessage = document.getElementById('success-message');

                if (btnText) btnText.innerHTML = "ENVIANDO...";

                fetch(scriptURL, { method: 'POST', body: new FormData(form) })
                    .then(response => {
                        console.log("4. Respuesta del servidor recibida");
                        if (btnText) btnText.innerHTML = "¬°ENVIADO!";
                        if (successMessage) successMessage.style.display = 'block';
                        form.reset();

                        setTimeout(() => {
                            if (btnText) btnText.innerHTML = "ENVIAR CONFIRMACI√ìN";
                            if (successMessage) successMessage.style.display = 'none';
                        }, 5000);
                    })
                    .catch(error => {
                        console.error('ERROR FATAL:', error.message);
                        if (btnText) btnText.innerHTML = "ERROR";
                    });
            });
        } else {
            console.error("ERROR GRAVE: No encuentro el formulario. Revisa que <form> tenga name='submit-to-google-sheet'");
        }
    </script>
</body>

</html>